# 游戏概述
## 游戏核心概念
- **项目暂定名：** 代号:异度牌局（Fix or Destroy）
    
- **游戏类型：** 单人单机、立体空间、战棋肉鸽卡牌 (Single-player, 3D-Spatial, Tactical Roguelike Deckbuilder)
- **参考游戏：** 杀戮尖塔、陷阵之志、将军对决、狭间骑士、狭间死斗
- **核心简介：**
    
    > 这是一款融合了卡牌构筑、战棋走位与地形破坏的立体空间Roguelike策略游戏。玩家将扮演一名“万能”的维修工，进入一个被异次元入侵而变得光怪陆离的公司大楼。在这栋每一层都变为随机战场的大楼里，玩家需要运用手中的卡牌——不仅是攻击敌人，更是为了摧毁障碍、制造地形、甚至打穿楼板，通过类似“解谜”的战术规划，一步步“修理”这个濒临崩溃的世界。
    
## 核心玩法循环 

玩家的游戏体验将围绕一个紧凑且富有深度的核心循环展开：（整体架构类杀戮尖塔）

1. **规划:** 在章节地图上，总览全局，根据自身状态和前方节点的风险与收益，规划出一条最优的前进路线。
    
2. **进入:** 进入选定的节点，通常是一场发生在立体棋盘上的战斗。
    
3. **分析:** 分析战场布局、敌人类型以及它们完全可见的行动意图。这是一个信息对称的解谜阶段。
    
4. **执行:** 在有限的行动点内，打出手中的卡牌，操控维修工进行移动、攻击、防御、以及最关键的——与地形进行互动（摧毁、创造、利用高低差）。
    
5. **收获:** 解决战斗或事件后，获得新的卡牌、遗物、金币等奖励。
    
6. **成长:** 在战斗之间，通过卡牌三选一、遗物组合、商店交易等方式，围绕一个核心思路构筑（Build）自己的卡组，使战力不断成长。
    
7. **循环:** 带着更强的自己回到**步骤1**，继续进行下一段路线的规划，直至挑战章节的终极BOSS。

## 目标用户 

- **核心用户:**
    
    - 深度策略游戏爱好者，特别是《杀戮尖塔》、《陷阵之志》、《怪物火车》等游戏的玩家。
        
    - 喜爱卡牌构筑（DBG）和Roguelike高重玩价值体验的玩家。
        
    - 享受“深思熟虑后获得巨大回报”这种智力挑战快感的玩家。
        
- **次级用户:**
    
    - 传统战棋游戏（如《火焰纹章》、《XCOM》）的爱好者，寻求更创新、更紧凑的战棋体验。
        
    - 对像素艺术风格和轻松幽默的现代背景故事感兴趣的玩家。

# 核心战斗系统
## 核心数值设计 

### 设计

本游戏采用一种混合数值模型，旨在结合《杀戮尖塔》“能量费用”设计的精髓与桌面战棋数值设计的直观性。

- **直观性 :** 我们沿用（如玩家30血量、基础攻击6伤害）作为基准，确保玩家在任何时候都能快速心算，理解战局。核心体验是战术和策略，而非数学。
    
- **能量经济 :** 我们将严格遵循《杀戮尖塔》的能量经济原则。“每一点能量能换来多少收益”是整个卡牌设计和平衡的绝对核心。卡牌的强度不应是线性的，而应与它的能量消耗建立明确的价值关系，鼓励玩家进行有意义的能量管理决策。
###  核心数值基准表

这张表是我们所有设计的“锚点”，现在我们以“能量经济学”的视角来解读它。

| 项目                | 基准值   | 设计要点                                        |
| ----------------- | ----- | ------------------------------------------- |
| **玩家初始血量**        | 30    | 这是玩家在一个战斗节点中可以承受的“失误预算”。大约能硬抗4-5次敌人的攻击。     |
| **普通敌人血量**        | 15-20 | 要求玩家通常需要**三次**1费标准攻击才能解决，制造了战斗的节奏感。         |
| **1费攻击卡基准伤害**     | 6     | 这是**1点能量**在进攻端能换取的最基础、最标准的收益。               |
| **1费防御卡基准护甲**     | 5     | 这是**1点能量**在防御端能换取的最基础、最标准的收益。攻防比约为4:3。      |
| **每回合基础行动点 (能量)** | 3     | **整个能量经济的核心**。所有卡牌的价值都围绕“如何最有效地消费这3点能量”来评估。 |
| **精英敌人血量**        | 20-40 | 根据精英的特殊机制来权衡具体血量，Boss也同理                    |
|                   |       |                                             |
|                   |       |                                             |

### 卡牌费效模型 

这是对“杀戮尖塔费用模型”的直接应用。所有卡牌的设计都必须遵循以下价值层级：

| 费用     | 定位              | 设计原则与示例                                                                                                                                                      |
| ------ | --------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **0费** | **润滑剂 / 启动器**   | 效果微弱但灵活，用于过牌、触发连击或补充少量效果。**绝不能提供1费卡牌的价值。**<br>_- 示例: “造成3点伤害。抽1张牌。” 或 “获得4点护甲。”_                                                                             |
| **1费** | **标准单位 / 基准**   | **游戏中最基础的价值单位。** 一张“好”的1费卡，其效果应约等于“造成6点伤害”或“获得5点护甲”。<br>_- 示例: “造成6点伤害。” 或 “获得3点护甲。”_<br>_- 进阶示例: “造成5点伤害，对目标施加1层易伤。” (用1点伤害换取了一个Debuff)_                    |
| **2费** | **高影响力 / 战术核心** | **效果必须显著强于两张1费卡的总和，** 以体现“能量集中使用”的价值。2费卡的价值应是1费卡的2.5倍以上。<br>_- 错误示范: “造成12点伤害。” (这只是两张1费卡)_<br>_- 正确示范: “造成15点伤害。” 或 “对所有敌人造成8点伤害。”_<br>_- 防御示范: “获得12点护甲。”_ |
| **3费** | **决胜技 / 构筑核心**  | 效果强大，足以改变战局或定义一个回合的打法。通常需要整个回合的能量来支持，其回报也必须是决定性的。<br>_- 示例: “消耗所有手牌，每消耗一张，便对随机敌人造成4点伤害。”_<br>_- 示例: “获得一个持续整场战斗的能力：‘你的回合结束时，保留所有护甲。’”_                       |
| **X费** | **终结技 / 灵活性**   | 将当前所有剩余能量转化为一个效果，为回合末的能量利用提供出口。<br>_- 示例: “造成 X 次4点伤害。”_                                                                                                     |

### 成长性 

与《杀戮尖塔》一样，卡牌的**基础数值被有意设计得较为保守**。游戏的长期乐趣和玩家的技巧体现，来源于“成长性”，即通过各种手段打破基础数值的限制。

- **成长途径:** 玩家获胜的关键，不是依赖于找到几张基础数值高的卡，而是要建立一个能让基础卡“增值”的体系。这个体系由以下部分构成：
    
    - **战斗内成长:** 通过【力量】、【能力牌】等手段，在单场战斗中滚起雪球。
        
    - **局内成长:** 通过获取强大的【遗物】，从根本上改变规则或为某些卡牌提供永久加成。
        
    - **卡组构筑成长:** 通过删牌、复制、升级，让卡组本身变得高效，让成长性卡牌能被更频繁地抽到和使用。


## 战斗流程与规则
### 战斗流程图
![[战斗流程图1.png]]

### 核心战斗脑图
![[file-20251028173101728.png]]
![[异度公司.xmind]]

## 卡牌系统

### 设计思路

卡牌是玩家在战斗中进行交互的主要媒介，也是游戏策略深度和重玩价值的核心载体。本游戏卡牌系统的设计哲学是 **“以流派构筑为导向，鼓励联动效应”**。我们设计的每一张卡牌，都不应是孤立的，而应能服务于一个或多个明确的玩法流派，并通过卡牌之间的联动创造出1+1>2的效果。

###  卡牌剖析与稀有度

- 卡牌基本元素:
    
    - **名称:** 卡牌的唯一标识。
        
    - **能量消耗:** 清晰展示在左上角，遵循我们的“费用模型”。
        
    - **稀有度:** 分为【普通】、【罕见】、【稀有】。
        
    - **类型:** 分为【攻击】、【技能】、【能力】。
        
    - **描述文本:** 描述卡牌效果，所有**关键词**高亮。
        
    - **作用范围:** 描述卡牌可以指定的目标范围。
        
    - **卡图:** 卡牌的主视觉。
        
- **稀有度定义:**
    
    - **普通:** 构成卡组的基础，效果直接、可靠，通常专注于单一功能（伤害、格挡）。
        
    - **罕见:** 效果更复杂或更强大，经常是某个流派的“组件”或“增强器”。
        
    - **稀有:** 效果非常强大，通常具有改变战局或定义一个流派核心玩法（“构筑基石”）的能力。
        

### 卡牌生命周期与管理

-  战斗内循环
    
    1. **抽牌阶段:** 回合开始时，从【抽牌堆】抽取4张牌置于【手牌】。
        
    2. **使用阶段:** 玩家从【手牌】中使用卡牌，使用后进入【弃牌堆】。
        
    3. **弃牌阶段:** 回合结束时，【手牌】中所有未“保留”的牌进入【弃牌堆】。
        
    4. **洗牌阶段:** 当【抽牌堆】为空时，【弃牌堆】将被洗匀，成为新的【抽牌堆】。
        
    5. **消耗:** 带有“消耗”关键词的卡牌，在使用后将被移出当前战斗，进入【消耗堆】，不再参与循环。
        
- 卡牌的获取与变更
    
    - **永久变更:** 在战斗之外发生的、影响整个冒险进程的卡组变更。
        
        - **获取:** 战斗胜利后的卡牌三选一奖励、商店购买、事件奖励。
            
        - **移除:** 商店服务、事件效果。
            
        - **升级:** 休息房（维修工休息室）服务、事件效果。
            
    - **临时变更:** 在战斗中发生的、不影响战斗结束后卡组的变更。
        
        - **生成:** 由其他卡牌或遗物的效果，在【手牌】或【抽牌堆】/【弃牌堆】中临时创造出的卡牌。这些卡牌通常带有“消耗”或“虚无”（回合结束时若在手牌中则消耗）等关键词。
            
        - **消耗:** 如上所述，将卡牌暂时移出战斗。
            

### 核心玩法流派

所有卡牌的设计都将围绕以下一个或多个核心流派展开。这些流派旨在引导玩家进行构筑，并充分利用我们游戏的核心机制。

1. 过牌连击流
    
2. 陷阱流
    
3. 持续伤害流
    
4. 力量成长流
    
5. 召唤流
    
6. 层差打击流
    
7. 地形交互流
    
8. 随机赌徒流
    
9. 背刺流
  
###  卡牌设计示例

为了将上述流派具体化，以下为其中三个最具本游戏特色的流派提供一些卡牌设计草案：

- A. 层差打击流派
    
    - **核心玩法:** 利用游戏独特的立体空间，通过占据高地、制造坠落来获得巨大战术优势。
        
    - **示例卡牌1:**
        
        - **名称:** 《升降平台》
            
        - **类型/费用/稀有度:** 技能 / 1费 / 普通
            
        - **效果:** “将你自己或一个相邻的单位，移动到其当前位置正上方或正下方的可用地块上。抽1张牌。”
            
    - **示例卡牌2:**
        
        - **名称:** 《高空坠物》
            
        - **类型/费用/稀有度:** 攻击 / 2费 / 罕见
            
        - **效果:** “对你正下方任意可见地块上的敌人造成10点伤害。如果该地块为[脆弱]状态，则摧毁该地块。”
            
    - **示例卡牌3:**
        
        - **名称:** 《重力势能》
            
        - **类型/费用/稀有度:** 能力 / 3费 / 稀有
            
        - **效果:** “在本场战斗中，你每次从高处移动到低处，便获得2点【格挡】；你的敌人每次从高处坠落，便额外受到3点伤害。”
            
- **B. 地形交互流派**
    
    - **核心玩法:** 将战场本身作为武器和资源，通过主动创造和破坏地形来控制战局。
        
    - **示例卡牌1:**
        
        - **名称:** 《结构分析》
            
        - **类型/费用/稀有度:** 技能 / 0费 / 普通
            
        - **效果:** “检视一个地块的【耐久度】。抽1张牌。”
            
    - **示例卡牌2:**
        
        - **名称:** 《豆腐渣工程》
            
        - **类型/费用/稀有度:** 技能 / 1费 / 罕见
            
        - **效果:** “指定3x3范围内至多3个地块，使其【耐久度】变为1。”
            
    - **示例卡牌3:**
        
        - **名称:** 《火山喷发》
            
        - **类型/费用/稀有度:** 技能 / 2费 / 稀有
            
        - **效果:** “选择一个[空洞]地块。下回合开始时，该地块及其相邻地块将变为[火山]地形，持续3回合。”
            
- **C. 背刺流派**
    
    - **核心玩法:** 专注于敌人的“朝向”，通过绕后攻击来获取高额回报。
        
    - **示例卡牌1:**
        
        - **名称:** 《闪身》
            
        - **类型/费用/稀有度:** 技能 / 1费 / 普通
            
        - **效果:** “移动到目标敌人身后相邻的空格。获得3点【格挡】。”
            
    - **示例卡牌2:**
        
        - **名称:** 《凿击》
            
        - **类型/费用/稀有度:** 攻击 / 1费 / 罕见
            
        - **效果:** “造成3点伤害。如果从敌人背后攻击，则使其获得2层【虚弱】。”
            
    - **示例卡牌3:**
        
        - **名称:** 《伺机待发》
            
        - **类型/费用/稀有度:** 能力 / 2费 / 稀有
            
        - **效果:** “在本场战斗中，每当你从敌人背后攻击时，获得1点能量。”
### 界面呈现需求

本节旨在定义卡牌系统在用户界面（UI）层面的核心功能需求，以确保玩家获得清晰、流畅、无障碍的交互体验。具体的视觉风格和布局将在`用户界面与体验`章节中详述。

- A. 战斗中
    
    - 手牌区域:
        
        - **信息一览:** 玩家手牌中的每一张卡，都必须在默认状态下清晰地展示其**【能量消耗】和【卡图】**，以便玩家快速识别。
            
        - **可用性状态:** 界面需要明确区分“**当前能量足够使用**”和“**能量不足无法使用**”的卡牌（例如，通过亮度或饱和度的变化）。
            
        - **选择与预备:** 玩家在选中一张卡牌（例如**鼠标点击**或**悬停**）但还未打出时，界面应给予明确的视觉反馈（例如卡牌发光、微微上浮）。
            
    - 目标指向 :
        
        - **有效范围显示:** 当玩家选中一张需要指定目标的卡牌时，战场棋盘上所有**有效的**目标单位或地块必须被清晰地高亮，同时显示出该卡牌的**【作用范围】**。
            
        - **无效目标提示:** 玩家尝试对一个无效目标使用卡牌时，系统应给出明确的禁止提示。
            
    - 牌堆信息:
        
        - 数量显示: 【抽牌堆】和【弃牌堆】的剩余卡牌数量，必须作为常驻信息显示在战斗界面的固定位置。
            
        - 内容查阅: 玩家必须能通过简单的交互（例如点击牌堆图标）随时打开一个新窗口，以列表形式查看【抽牌堆】、【弃牌堆】和【消耗堆】中的所有卡牌。此功能对高阶策略规划至关重要。
            
    - 关键词解释 :
        
        - 悬停提示: 在卡牌的描述文本中，所有**关键词**都应高亮处理。当玩家鼠标悬停在任意一个关键词上时，必须弹出一个小窗（工具提示），清晰地解释该关键词的规则和效果。
            
- B. 战斗外 
    
    - 卡牌奖励界面 
        
        - 清晰对比: 战斗胜利后提供的三张候选卡牌，必须并排完整展示，方便玩家进行横向对比。
            
        - 确认与跳过:界面必须提供明确的“添加到卡组”按钮，以及一个同样清晰的“跳过奖励”选项。
            
    - 卡组总览界面 :
        
        - **随时访问:** 在章节地图界面，玩家必须能随时打开一个窗口来查看自己当前拥有的完整卡组。
            
        - **信息完整:** 该界面需要展示卡牌的所有信息，包括是否经过升级。
            
        - **排序功能:** 为便于玩家分析卡组，该界面应提供基础的排序或分组功能（例如，按费用、按类型排序）。

##  增益系统 (Buff & Debuff System)

###  设计

增益系统（包含增益Buff和减益Debuff）是为战斗引入**动态变量**和**策略决策**的核心机制。其设计目的在于：

- **创造决策难题：** 减益效果为玩家制造需要优先处理的“麻烦”，而增益效果则为玩家提供打破僵局、实现滚雪球效应的“机会”。
    
- **深化卡牌价值：** 许多卡牌的核心价值，不在于其直接的伤害或格挡，而在于其施加或利用各种状态效果的能力。
    
- **强化流派特色：** 特定的流派将围绕某一种或几种状态效果进行构筑，例如“持续伤害流”依赖于【灼烧】的叠加，“力量成长流”则以叠加【力量】为核心。

### 增益分类

系统内的所有状态效果，根据其持续时间和作用范围，明确划分为以下三个大类，以便于设计和管理。

1. **局内永久:**
    
    - **描述:** 在单次冒险（一“局”）中获得后，效果会持续到该局游戏结束，影响所有战斗。
        
    - **示例:** 遗物的被动效果；部分特殊事件带来的永久属性提升（如最大生命值+3）。
        
2. **战斗内永久:**
    
    - **描述:** 在一场战斗中获得后，效果会持续到该场战斗结束，战斗结束后清零。其层数通常可以不断累加。
        
    - **示例:** 【力量】、【壁垒】（使护甲不消失）。
        
3. **暂时性:**
    
    - **描述:** 效果有明确的回合数限制，每回合开始或结束时，回合数会递减，归零后效果消失。
        
    - **示例:** 【易伤】、【虚弱】、【灼烧】。
        

### 核心状态效果详解

以下是游戏初期的核心状态效果列表。所有效果都需要有独特、易于辨识的图标。

| 名称     | 图标建议     | 类型      | 效果描述                                           | 叠加规则      |
| ------ | -------- | ------- | ---------------------------------------------- | --------- |
| **力量** | 红色的肌肉/拳头 | 战斗内永久增益 | 每层使你造成的【攻击】伤害额外增加1点。                           | 层数累加      |
| **易伤** | 破碎的红色盾牌  | 暂时性减益   | 受到的【攻击】伤害增加50%，持续X回合。                          | 回合数刷新至更高值 |
| **虚弱** | 断裂的剑     | 暂时性减益   | 造成的【攻击】伤害减少25%，持续X回合。                          | 回合数刷新至更高值 |
| **灼烧** | 橙色火焰     | 暂时性减益   | 回合结束时，受到X点伤害，随后层数-1。                           | 层数累加      |
| **缚地** | 断裂的锁链    | 暂时性减益   | 在本回合内，无法执行【移动】行动。                              | 回合数刷新     |
| **眩晕** | 旋转的星星    | 暂时性减益   | 在本回合内，无法使用任何卡牌。                                | 回合数刷新     |
| **潮湿** | 水滴       | 暂时性减益   | 下一次受到的【灼烧】伤害翻倍，然后移除此效果；或下一次获得的【格挡】值减半，然后移除此效果。 | 不可叠加      |

### 交互规则

- **结算顺序:** 在回合结束阶段，效果的结算遵循固定顺序：正面效果结算（如“金属化”获得护甲） -> 负面效果结算（如【灼烧】、【中毒】扣血） -> 暂时性效果回合数递减。
    
- **效果移除:** 
    - 特定的卡牌或遗物效果可以主动移除减益（净化）或增益（驱散）。
        
    - 部分地形互动可以移除特定效果，例如：进入【湖泊】地块可以移除【灼烧】。
        

###  界面呈现需求

- **状态图标区域:** 任何拥有状态效果的单位（玩家或敌人），其身上或血条附近必须有一个专门的区域，用于显示当前所有状态效果的图标。
    
- **信息层级:**
    
    - **图标:** 必须能让玩家快速识别效果类型。
        
    - **数字:** 图标上必须清晰地展示该效果的**层数**（对于战斗内永久）或**剩余回合数**（对于暂时性）。
        
- **悬停详请:** 鼠标悬停在任意一个状态图标上时，必须弹出一个工具提示框，清晰地展示该效果的【名称】、【类型】和详细的【效果描述】。
# 玩家角色 

## 玩家通用属性 

所有玩家角色都共享一套基础属性，作为其成长和战斗的基础。

- **生命值 (Health):** 角色的生存能力。在战斗间继承，归零则当局游戏结束。
    
- **能量/行动点 (Energy):** 每回合用于打出卡牌和移动的核心资源。默认为3点。
    
- **金币/修理值 (Gold):** 用于在商店购买商品、移除卡牌等。
    
- **初始卡组 (Starting Deck):** 一套由10-12张基础卡牌构成的初始牌组。
    
- **初始遗物 (Starting Relic):** 一件每个角色专属的、从游戏开始就持有的遗物，通常用于定义该角色的核心玩法机制。
    

## 角色设计

为确保每个角色的独特性和游戏的平衡性，所有角色的设计都将遵循以下原则：

1. **独特的玩法身份:** 每个角色都必须围绕游戏的一个核心机制，拥有独一无二的玩法。角色的专属卡牌、初始遗物和特殊能力都应服务于这个核心身份，带给玩家迥然不同的策略体验。
    
2. **卡牌池系统:**
    
    - **通用卡牌池:** 包含大量效果基础、功能全面的【攻击】和【技能】牌，所有角色都有机会在奖励中获取。
        
    - **角色专属池:** 每个角色拥有一个较小的、独特的专属卡牌池。这些卡牌的效果与角色的核心机制高度绑定。战斗胜利后的卡牌奖励，将是通用池和角色专属池的混合。
        
3. **遗物池系统:**
    
    - **通用遗物池:** 包含大量适用于所有角色的通用强力遗物。
        
    - **角色专属池:** 每个角色都有一小部分专属遗物，只有在使用该角色时才可能出现。这些遗物通常会极大地强化该角色的核心机制。
        

---

## 初始角色详解：地形操控师


-  角色概念与形象
    
    - **称号:** 工程师
        
    - **背景:** 原本是公司里最出色的结构工程师和维修工，对建筑材料和空间改造有着超乎常人的热情。当异变发生，别人看到的是毁灭和混沌，他看到的却是可以随意拆卸和重组的“大型乐高乐园”。他以修复整个公司为己任，只不过他的“修复”方式是——敲掉所有不顺眼的地形，然后建起对他有利的战场。
        
    - **形象:** 头戴安全帽，身穿工装服，腰间挂满了各种扳手、锤子和测量仪器。背后可能背着一个充满科技感的“便携式物质重组仪”。
        
-  核心机制与初始遗物
    
    - **核心机制:** 通过卡牌，以比其他角色更高的效率和更强的效果来**创造**和**破坏**地形，从而获取优势
        
    - **初始遗物:** 工程师护目镜
        
        - **效果:** 每回合，你第一次创造或破坏地形时，获得1点能量并抽1张牌
- 初始卡组 (10张)
    
    - `4x` **打击**: (通用攻击) 1费，造成4点伤害。
        
    - `3x` **防御:** (通用技能) 1费，获得3点格挡。
		
    - `1x` **推动：**(通用技能) 将敌人往后推动2格
        
    - `1x` **撼地击:** (专属攻击) 2费，对一个敌人造成8点伤害，并对其脚下的地块造成1点耐久度伤害。
        
    - `1x` **筑墙:** (专属技能) 1费，在一个目标地块上创造一堵耐久度为1的“瓦砾墙”
    - **瓦砾墙:** 障碍，能够阻挡敌人的攻击或者行动一次
        
- 专属卡牌池与流派
    
    - **核心流派:** 【地形交互流】、【陷阱流】等等
        
    - **专属卡牌设计示例:**
        
        - **《连锁爆破》 (罕见攻击, 2费):** “摧毁一个地块。对其相邻的所有单位造成8点伤害。”
            
        - **《地质勘探》 (普通技能, 0费):** “抽1张牌。如果你的牌库顶是一张与地形相关的牌，则改为抽2张牌。”
            
        - **《冰河时代》 (稀有技能, 3费):** “将战场上所有空格地块变为[冰块]地形。”
            
        - **《固若金汤》 (罕见能力, 2费):** “能力：每当你创造一个[高山]地形时，获得2点格挡。”
            

---

## 未来角色设计方向

以下为后续计划开发的角色方向，它们将沿用以上模板进行详细设计：

- **2. 立体战术家:**
    
    - **核心玩法:** 精通Z轴作战，无视层级障碍。
        
    - **初始遗物（草案）:** 【喷气背包】 - “每回合一次，你可以消耗1点生命值来代替1点能量，打出一张可以让你进行垂直位移的牌。”
        
- **3. 护甲专家:**
    
    - **核心玩法:** 堆叠高额护甲，并通过护甲触发反击或其他收益。
        
    - **初始遗物（草案）:** 【活性装甲】 - “你的护甲在回合结束时不会消失。”
        
- **4. 区域控制者:**
    
    - **核心玩法:** 擅长范围攻击和创造持续影响的区域。
        
    - **初始遗物（草案）:** 【广角镜片】 - “你的单体攻击牌现在可以额外影响目标身后一格的敌人，造成50%伤害。”
        
- **5. 速度刺客:**
    
    - **核心玩法:** 依靠高机动性和走位，创造输出机会。
        
    - **初始遗物（草案）:** 【动能引擎】 - “你在一个回合中，每移动一格，你打出的下一张攻击牌便额外造成1点伤害。”
        

# 敌人 

## 意图系统

本游戏中，敌人设计的核心哲学是 **“敌人是高质量的谜题，而非随机的威胁”**。我们旨在为玩家创造一个信息相对对称的博弈环境，让玩家的胜利更多地来源于深思熟虑的规划，而非单纯的数值碾压或运气。

1. **《陷阵之志》式的预告机制:**
    
    - 所有敌人的行动意图（移动、攻击、使用技能）都将**提前一整个回合进行预告**。玩家在自己的回合，能完全清楚地看到每个敌人下一步将要做什么。——不同于陷阵之志中的移动是玩家回合前就进行好的。
        
    - 玩家的核心任务是解答：“在我的回合，如何利用手牌和走位，来完美地应对、规避、甚至反利用敌人已预告的所有行动？”
        
2. **《杀戮尖塔》式的能力多样性:**
    
    - 敌人的挑战性不仅来自于它们的直接行动，更来自于它们独特的**被动能力、增益/减益效果**，以及不同敌人之间的**组合**所产生的化学反应。
        
    - 精英和首领敌人将拥有更复杂的行动模式和阶段变化，作为检验玩家卡组综合强度的标杆。
        
3. **行动的专精化与可读性:**
    - 普通敌人将被设计为“专精单位”**，其行动池非常小（通常只有2-3种意图），且行为模式高度倾向于其中一种。这能让玩家在见到敌人的第一时间，就能大致判断出它的战术定位，快速形成应对策略。
4. 反制手段的核心：
	- 位移与地形:
	    - 鉴于敌人行动的可预知性，玩家反制敌人的最有效手段，将不仅仅是“格挡”和“攻击”，更是我们游戏的核心特色——【位移】（将敌人推出攻击范围、让它们自相残杀）和【地形互动】**（摧毁敌人脚下的地块、在其必经之路上制造障碍或陷阱）**。
---
## 敌人种类 

###  普通敌人 (Standard Enemies)

- 敌人1：猛扑蛛 
    
    - **视觉概念:** 一种半机械半生物的蜘蛛，体型不大，但腿部关节处闪烁着电弧，显得迅捷而危险。
        
    - **核心数值:** 生命值: **20**, 移动范围: **4**, 攻击伤害: **4**
        
    - **行动模式 / 意图:**
        
        1. **【猛扑】(蓄力1回合):** 这是它的**唯一**行动模式。它会预告一条通往玩家相邻格子的移动路径，并在最终落点的上下左右四个格子预告攻击。下回合，它会移动到位并对攻击范围内的玩家造成4点伤害。
            
    - **策略要点:** 核心谜题：“别靠近我”。玩家需要通过移动或使用位移牌，确保在回合结束时，自己不处于其预告的攻击范围内。
        
- 敌人2：爆破甲虫
    
    - **视觉概念:** 一只体型庞大、覆盖着厚重装甲的甲虫状机械，移动缓慢，如同一个活体攻城槌。
        
    - **核心数值:** 生命值: **20** 移动范围: **5**, 冲撞伤害: **6**
        
    - **行动模式 / 意图:**
        
        1. **【野蛮冲撞】(蓄力2回合):** 锁定玩家方向，预告一条贯穿战场的直线冲锋路径。在**两个回合的蓄力**后，它会沿路径冲锋，对路径上的**所有地块**造成1点耐久度伤害，并对撞到的**第一个单位**造成6点巨额伤害。
            
        2. **【缓慢挪动】(次要意图):** 如果无法规划出有效的冲撞路径，它会预告一次移动（1格），以调整自身位置。
            
    - **策略要点:** 2回合的蓄力给了玩家充足的应对时间。玩家可以自己走开、将甲虫推歪、或者最高效地将另一个敌人推到其冲撞路径上。
        
- 敌人3：迫击炮台 
    
    - **视觉概念:** 一个从地面伸出的、无法移动的固定式炮台，炮口闪烁着危险的红光。
        
    - **核心数值:** 生命值: **10**, 移动范围: **0**, 炮弹伤害: **5**
        
    - **行动模式 / 意图:**
        
        1. **【熔岩炮弹】(蓄力2回合):** 这是它的唯一行动模式。它会预告一个**比它所在层数更低的楼层**上的`3x3`范围区域。在**两个回合的蓄力**后，发射炮弹，对该区域内所有单位造成5点伤害，并对所有地块造成1点耐久度伤害。
            
    - **被动能力:** 【固定单位】 - 此单位无法被移动或推动。
        
    - **策略要点:** 核心谜题：“处理Z轴威胁”。它的存在强迫玩家进行三维思考，高层不再是绝对安全区。
        
- 敌人4：酸液喷吐者 
    
    - **视觉概念:** 一个泄露着绿色液体的环卫机器人，或者一只行动缓慢的软体虫类生物。
        
    - **核心数值:** 生命值: **10**, 移动范围: **1**, 酸液池伤害: **2**
        
    - **行动模式 / 意图:**
        
        1. **【腐蚀酸液】(蓄力1回合):** 预告一个目标地块。下回合，不对任何单位造成直接伤害，但会将目标地块变为**[酸液池]**地形，持续3回合。
            
        2. **【缓慢挪动】(次要意图):** 如果没有好的喷吐目标，它会预告一次移动（1格）。
            
    - **被动能力:** 【腐蚀之躯】 - 死亡时，其所在的地块也变为[酸液池]。
        
    - **策略要点:** 不断压缩玩家的安全活动空间，迫使玩家持续移动。可以引诱它朝特定方向喷吐，用酸液池去伤害其他敌人。
        

###  精英敌人 

精英敌人是章节中的“守门员”，是比普通敌人更严峻的挑战。它们通常拥有更高的数值、更复杂的行动模式、或足以改变战局的独特被动能力。

- 示例精英1：蛛母 
    
    - **视觉概念:** 一只体型远大于普通“猛扑蛛”的蜘蛛，腹部膨胀，身上覆盖着更厚的甲片。
        
    - **核心数值:** 生命值: **30**, 移动范围: **2**, 攻击伤害: **5**
        
    - **行动模式 / 意图:**
        
        1. **【重压猛扑】(蓄力1回合):** 与普通猛扑类似，但伤害更高（5点），并且会对命中的玩家施加1回合的【缚地】。
            
        2. **【产卵】(蓄力1回合):** 在一个相邻的空格地块上，创造一个拥有3点生命值的“蜘蛛卵”障碍物。如果“蜘蛛卵”在1回合内没有被摧毁，它会孵化成一只1血1攻的“幼蛛”。
            
    - **策略要点:** 将原本单纯的走位谜题，升级为“走位 + 目标优先级管理”的复杂谜题。玩家需要权衡是优先处理蛛母本身，还是先清理掉会不断孵化出小蜘蛛的卵。
        

###  首领

首领是每个章节的终极挑战，是检验玩家卡组构筑和综合策略能力的最终关卡。它们拥有独特的、多阶段的战斗机制。

- 示例首领（概念）：核心熔毁AI 
    
    - **视觉概念:** 占据了整个房间中央的一个巨大、无定形、由数据流和电缆组成的核心。它本身不移动，但整个战场都是它的武器。
        
    - **战斗阶段:**
        
        - **阶段一 (系统防御):** AI会不断召唤普通敌人（如维修无人机）上场，同时会预告对棋盘上的随机地块进行“数据删除”（即摧毁地块）。
            
        - **阶段二 (核心暴露 - 50%血量):** AI停止召唤，清除场上所有其他敌人。自身进入【易伤】状态，但开始为一个需要蓄力3回合的全屏高伤害攻击充能。此阶段是对玩家输出能力的极限挑战（DPS Check）。
            
        - **阶段三 (格式化战场):** 如果玩家未能在充能阶段将其击败，AI会释放一次伤害较低的全屏攻击，然后开始执行“格式化”程序，每回合摧毁棋盘的一整行或一整列，不断缩小安全区域，给玩家带来巨大的生存压力。
- 示例首领（概念）2：猩红触手
	- 视觉概念
	- 战斗阶段：
		- **阶段一（残肢）：** boss召唤各类不同小触手上场，按照类型可以分为射手，牧师和战士。意图上，射手会进行远程攻击，牧师会给己方单位增益与治疗，战士则是冲锋在最前方。
		- 阶段二()：在一阶段的小怪都被清理之后，进入此阶段。boss亲自下场，只有80%的血条，有三种攻击方式：
		  1.用触手拖拽玩家到身前（无论在哪，进行一次攻击）
		- 2.摧毁周身的所有

---

### 界面呈现需求

- **意图的清晰性:**
    
    - 每个敌人的头顶必须有一个清晰、易于辨识的图标，表明其下回合的主要意图（例如：剑=攻击，盾=防御/增益，箭头=位移）。
        
    - 意图图标旁必须标明相应的数值（例如：攻击意图旁的伤害数值）。
        
- **范围的可视化:**
    
    - 敌人的移动和攻击范围，必须在预告阶段就以地块高亮或特效的形式，在战场上明确地绘制出来，不允许有任何模糊地带。
        
- **悬停详请:**
    
    - 鼠标悬停在任意敌人身上时，必须弹出一个信息面板，清晰展示其【名称】、【生命值】、【当前所有增益/减益状态】以及对其【当前意图】的详细文字描述。


# 战场环境设计 

## 设计目的

战场环境不仅仅是战斗的背景，它是游戏策略维度的核心支柱。其设计旨在为玩家提供丰富的战术选择，将**空间思维**和**环境互动**提升到与卡牌构筑同等重要的高度。每一个地块、每一种地形、每一层高低差，都应是玩家可以利用的资源、需要规避的风险，或是能够亲手创造的战术优势。

## 地形系统 

地形是指在地块之上，附加了特殊规则的区域。

-  地形分类与详解
    
    - 为了便于设计和管理，我们将地形分为以下几类：
        

| 地形名     | 地形效果                                                   |
| ------- | ------------------------------------------------------ |
| 山脉      | 阻挡，不可穿过，在与实体产生**碰撞**时对自身和实体造成伤害（存在耐久度，2点，每次碰撞减少一点）     |
| 岩浆      | 可穿过，在穿过该地砖时受到持续2回合的**灼烧**效果（灼烧：受到2点伤害）                 |
| 冰霜      | 可穿过，在主动/被动穿过该地块时额外往移动方向再移动一格                           |
| 陷阱(TBD) | 可穿过，在该地块上停留时受到最大生命值50%的伤害，触发一次后消失                      |
| 强化符文    | 可穿过，回合结束时，此地块上的单位将受到2点伤害，并获得1层**力量**(力量：增加x点攻击伤害,x为层数) |
| 治愈法阵    | 可穿过，回合结束时，此地块上的单位将恢复2点生命值                              |
| 烟雾喷口    | 可穿过，在回合结束时，停留在此地块上的单位将获得**隐蔽**(隐蔽：抵挡下x次受到的攻击，x为层数)     |
| 能量水晶    | 阻挡，不可穿过，摧毁此水晶的单位将立即获得1点能量                              |
| 荆棘丛     | 可穿过，进入此地块的单位将受到1点伤害并被**定身**1回合(定身：下一回合移动力为0)           |
| 间歇泉     | 可穿过，回合结束时，此地块上的单位将被喷发到上一层并受到2点伤害。                      |
|         |                                                        |
-  地块与地形的关系
    
    - **地块 :** 是构成棋盘的基础单位，拥有【耐久度】属性。
        
    - **地形 :** 是附加在地块上的效果（如[火山]、[冰块]）。
        
    - **关系:** 破坏地块会同时移除其上方的地形。部分特殊效果可能只移除地形，而保留地块。
        
-  耐久度 
    
    - **普通地块:** 拥有2点耐久度。需要承受2点破坏才能被摧毁。
        
    - **脆弱地块:** 拥有1点耐久度。例如[冰块]地形所在的地块。
        
    - **坚固地块:** 拥有极高或无限耐久度，通常作为关卡的关键结构或边界，不可被摧毁。
        
- 破坏与空洞 
    
    - **破坏来源:** 玩家的卡牌效果、敌人的技能（如“爆破甲虫”的冲撞）、坠落单位的撞击等。
        
    - **破坏后果:** 当一个地块的耐久度降至0时，它将被彻底摧毁，变为**【空洞】**。
        
    - **【空洞】:** 是一个绝对的危险区域。它不可通行。任何单位以任何方式（主要是被【推动】）进入【空洞】，都将被视为“跌出战场”，立即死亡或受到大量伤害。
        

####  界面呈现需求

- **信息明确性:**
    
    - 鼠标悬停在任意一个地块上时，必须显示一个工具提示框，清晰地标明：【地形名称】（若有）、【地形效果】和地块的【当前/最大耐久度】。
        
- **状态可视化:**
    
    - 不同类型的地形必须有在视觉上极易区分的美术表现。
        
    - 地块的受损状态（例如，耐久度从2变为1）需要有视觉变化，如出现裂纹。
        
- **跨层操作反馈:**
    
    - 当玩家使用跨层技能时，目标层级和地块必须有极其清晰、无歧义的选中和范围高亮效果，避免误操作。

##  立体层级系统 

这是本游戏与传统战棋最核心的区别所在。战斗棋盘是一个三维空间。

- **层级可视化**
    
    - 游戏镜头初始将聚焦于玩家所在的【本层】。玩家可以点击按钮移动摄像机观察上下层的情况。
        
    - 【上层】的地块将以半透明、略微模糊的形式叠加显示在上方。
        
    - 【下层】的地块将以半透明、略微变暗的形式透视显示在下方。
        
    - 这种设计旨在让玩家能时刻掌握三层空间的全部信息，为跨层战术做准备。
        
- **跨层移动与互动**
    
    - **常规移动:** 默认情况下，单位只能在同一层级移动。
        
    - **主动跨层:** 单位可以通过特定的卡牌效果（如《升降平台》）或特殊地形（如楼梯、传送门）在不同层级间移动。
        
    - **被动跨层 (坠落):** 当一个单位脚下的地块被摧毁时，它将垂直**坠落**到下一层的对应地块。
        
- **跨层攻击与视野**
    
    - **基本规则:** 默认情况下，单位只能以**同一层级**的单位为目标。
        
    - **高打低优势:** 位于【上层】的敌人单位，其部分攻击的射程可以延伸至【下层】的单位。
        
    - **特殊效果:** 大量卡牌、遗物和敌人技能会打破此规则，实现独特的跨层打击（如玩家的《高空坠物》、敌人的《熔岩炮弹》）。
        

## 地形耐久度与破坏系统
### 地形耐久度
地形耐久度系统是游戏中重要的一环，这个系统首先将地形分为可破坏和不可破坏类型，主要针对的也是可破坏地形。
对于可破坏地形来说：地形的耐久度相当于生命值，当耐久度归0时，相应地，地形也被破坏了。
而玩家的攻击和敌人的攻击都会对地形的耐久度造成影响从而达到战场空间纵深的效果。
当一个地形被破坏时，这可以分为两种：
1. 地块被破坏，也就是一开始这个地块上没有地形，波及到这个地块的攻击就会消耗这个地块的耐久度。这个地块被破坏之后当实体走上去之后就会坠落到有地块的对应层上(从下一层开始检索)
2. 地形被破坏，该地块上的地形消失，积累破坏度。
### 破坏度
破坏度指的是单房间内的地形被破坏次数，我一开始的设想是当被破坏了足够多的地形之后，达到了当前能受的破坏度上限，游戏就直接失败，现在我觉得这样太难了，不如改成一个机制，而游戏的核心目标仍然只有一个，那就是爬塔，闯关，战胜最终boss，而这一破坏度的设计主要是为了给玩家带来危机感，更好地契合以事先预告攻击为核心机制的战斗系统导向到的防御性玩法。
这个机制就是当破坏度到达上限后，玩家会扣除一定量的血量，且每次受到的伤害会递增。随着难度的增加而增加基础数值。
PS:**无论是破坏还是直接更改地形都会被计算到破坏度当中。**
### 地形重生
在地形被破坏之后的x回合后，地形会重生(非boss破坏)，这一机制是为了让房间中不会被过渡破坏导致无路可走从而导向死局的情况。
## 随机事件地块

### 事件
包含要跳转的对应**房间地址**字段(跳转切换到对应**房间场景**)(string)，对应的**事件ID**字段(int)，**事件名称**(string)，**事件描述**字段(string)，事件类型(枚举)。
### 随机地块
- 随机地块不同于基础的地块，是在基础地块的基础上的额外**佐料**，可以在关卡中通过达成某种条件解锁。eg.在融化x块冰块后解锁
- 某种条件包括：1.击杀一定数量的敌人 2.花费一定的金币 3.血量到达一定阈值 4.摧毁x个地块 5.制造xx地块
- 条件的检索时机在每次扳机触发结算？/回合结束/ 回合结束会影响多动流派，降低玩家爽感。 但是回合结束更符合常规逻辑，初步的设计先采用回合结束的扳机。
- 添加了随机地块的基础地块亦可以拆除，只不过拆除后会有一些增益或减益效果（大多是减益）
- 能触发的额外奖励：
- 1.升级卡牌 2.获得xx点生命值 3.获得xx遗物 4.获得药水 
- 8x8的地块最多有一块随机地块。
[[随机事件表]]

# 章节地图系统
---
![[地图.png]]

 ![[玩家地图决策流程图.png]]
## 系统概述 

章节地图系统是玩家在单次游戏进程中的核心导航界面与战略规划中心。它通过一个程序化生成的、可视化的节点网络，将战斗、事件、商店等所有游戏内容模块有机串联起来。本系统的设计摒弃了线性关卡结构，转而提供具有明确风险与收益的多样化路径选择，旨在将玩家的决策重心从单纯的战术执行（打好每一张牌）提升至宏观的战略管理（规划好每一步路）。此系统是驱动**游戏核心循环**、保障**策略深度**与**重玩价值**的基石。

---

## 设计目标 

本系统的设计旨在实现以下五个核心目标：

- **驱动深度战略 :** 系统的首要目标是创造有意义的决策点。玩家的路线选择必须基于对其当前资源（生命值、金币）、卡组构筑、遗物组合的综合评估。成功的路线规划应能带来显著的优势，而错误的决策也应带来可感知的后果。
    
- **平衡风险收益 :** 每一条可选择的路径都必须是一个经过精心设计的风险收益模型。高威胁的“精英”路径必须提供与其难度相匹配的、能改变局势的奖励。安全的“休息”路径则意味着放弃了获取关键资源的机会。
    
- **塑造游戏节奏 :** 地图是控制游戏节奏与玩家情绪流的主要工具。通过策略性地排布战斗、休整、事件等节点，我们可以在一章之内创造出“探索-紧张-高潮-缓和”的波形体验。
    
- **保证高度重玩性 :** 系统的底层逻辑将基于程序化内容生成（PCG）。通过算法保证每一局游戏的地图结构、节点分布和事件序列都是独一无二的，为玩家提供近乎无限的探索空间。
- **实现可复现性与分享 :** 系统必须内置一个【**种子**】系统。每一个随机生成的“局”都对应一个唯一的种子代码。通过输入该种子，玩家可以**完全复现**一模一样的游戏进程，包括地图结构、节点类型、战斗遭遇、卡牌奖励和事件结果。这为玩家提供了挑战朋友、分享社区奇遇和针对性练习的强大工具。
    

---

## 核心玩法循环 

1. **评估 :** 在一个节点上，玩家首先评估自身状态。
    
2. **展望 :** 玩家在进入一个章节时，该章节的完整地图结构（所有节点和路径）便**完全可见**。这种完全透明的信息是本系统战略深度的基础，鼓励玩家进行长线规划。
    
3. **权衡 :** 玩家基于对整个章节的完整信息，进行路线价值、资源节点和机会成本的综合权衡。
    
4. **执行 :** 玩家点击选择下一个相邻节点，一旦选择即锁定路径，无法后退。
    
5. **解决 :** 玩家进入所选节点，完成该节点的交互内容。
    
6. **重复 :** 完成节点后，玩家回到地图界面，开始新一轮的循环。
    

---

## 地图结构与元素 

### 章节 

- **主题实现优先级:**
    
    - **核心实现 :** 章节的主题性将主要通过**敌人类型、事件文案、专属BOSS设计和章节名称**来体现。
        
    - **美术优化项 :** 考虑到当前的美术资源，游戏初期所有章节将**共用一套“施工图纸”风格的地图背景美术资源**。为各章节设计独特背景将作为未来的重要优化目标。
        

### 节点网络 

    
- **路径与分叉逻辑:** 地图由**主干道**和**支路**构成，在**分叉点**为玩家提供关键的战略抉择。
    
- **网络密度:** 后续章节的地图网络密度（复杂程度）将逐步高于初始章节。
    

### 节点 
![[默认节点状态.png]]
![[已访问节点状态.png]]
- **节点状态:** 节点有明确的视觉状态：**当前位置**、**可抵达**、**待访问**、**已访问**、**不可达**。 (待完善,目前视觉状态只有可抵达和已访问)

| 节点状态 | 视觉状态         |
| ---- | ------------ |
| 当前位置 |              |
| 可抵达  | 循环缩放动画，表示可抵达 |
| 待访问  |              |
| 已访问  | 带有红圈         |
| 不可达  |              |
|      |              |

- **信息呈现:** 通过**图标**传达核心信息，通过**工具提示**提供详细描述。
    
- **布局规则:** 路径连线永不交叉，布局符合逻辑（如宝箱房常在支路尽头）。

### 节点详解

| **节点类型**   | **功能描述**                 | **设计意图**                          |
| ---------- | ------------------------ | --------------------------------- |
| **普通战斗**   | 遭遇标准敌人组合。                | 基础资源产出环节，检验卡组强度，消耗玩家资源。           |
| **精英战斗**   | 遭遇精英敌人或高威胁组合。            | 游戏中的提升点，高风险高回报（必掉落遗物），驱动玩家挑战极限。   |
| **章节BOSS** | 位于章节终点的独一无二的强大敌人。        | 对玩家在本章节所有成长的最终“检定”，作为阶段性的仪式性高潮。   |
| **休息房**    | 提供【医疗】、【锻造】、【移除】等多种休整选项。 | 战略性缓冲，让玩家在“即时生存”与“长远投资”间做出权衡。     |
| **商人房**    | 购买卡牌、遗物，并可付费【移除】卡牌。      | 卡组“构筑”和“精简”的关键节点，【移除】功能与【购买】同等重要。 |
| **宝箱房**    | 直接开启宝箱获得奖励。              | 纯粹的“福利点”，用于调节游戏节奏，提供惊喜感。          |
| **随机事件房**  | 遭遇基于文本的叙事性事件，并做出选择。      | 引入不确定性和故事性，让游戏世界更生动，考验玩家的价值判断。    |

---

#### 节点内部详解

本节旨在详细阐述玩家在进入各个非战斗节点时，可以进行的具体交互、规则和收益。

##### **A. 休息房 (维修工休息室)**

- **概念:** 为玩家提供一次宝贵的休整机会，是路线规划中的关键“安全点”和“强化点”。
    
- **交互流程:** 玩家进入休息房后，将有**一次行动机会**，可以在以下几个选项中**择一**执行：
    
    - **【修理】(Heal):**
        
        - **效果:** 恢复最大生命值的`30%`。
            
        - **设计意图:** 为玩家提供最直接的续航手段，是状态不佳时的首选。
            
    - **【锻造】(Upgrade):**
        
        - **效果:** 选择自己卡组中的一张牌进行永久升级（效果持续到本局游戏结束）。
            
        - **设计意图:** 卡组成长的核心途径之一，鼓励玩家进行长线投资，强化核心卡牌。
            
    - **【小憩】(Rest / Remove):**
        
        - **效果:** 从你的卡组中永久移除一张牌。
            
        - **设计意图:** 为玩家提供精简卡组、优化循环效率的关键手段，其战略价值不亚于获得一张新牌。
            
    - **【喝咖啡】(Energize):**
        
        - **效果:** 获得一个“精力充沛”的增益，效果为：“下一场战斗的前2个回合，你额外获得1点能量。”
            
        - **设计意图:** 提供一个高风险、高回报的选项。玩家放弃回复或强化的机会，换取下一场（通常是精英或首领）战斗前期的爆发力。
            

##### **B. 宝箱房**

- **概念:** 无风险的纯粹奖励节点，用于调节游戏节奏，并为玩家提供获得强力【遗物】的主要途径。
    
- **交互流程:** 玩家进入房间，点击宝箱即可开启。
    
- **常规宝箱:**
    
    - **内容:** 宝箱中必定包含**一件随机的【遗物】**，并附带少量【金币】。
        
    - **遗物池:** 遗物的抽取范围为【通用遗物池】和当前角色的【专属遗物池】。
        
- 特殊情况：**诅咒宝箱**
    
    - **出现率:** 玩家有较低概率（例如15%）在宝箱房中遇到“诅咒宝箱”。
        
    - **表现:** 诅咒宝箱在外观上会有明显区别（例如，缠绕着锁链、散发着不祥的紫光），并在开启前向玩家明确提示风险。
        
    - **交互:** 玩家可以选择**【开启】或【无视】。
        
    - **内容:** 若选择开启，玩家会获得一件效果极其强大的【诅咒遗物】，但同时会获得一个永久的负面效果（例如：最大生命值-5，或在卡组中加入一张“诅咒”状态牌）。
        

##### **C. 商人房**

- **设计哲学**
    
    - 商店的存在是为了给玩家提供**“定向选择”**的机会，与战斗后随机的卡牌奖励形成互补。我们采用**无刷新机制**，以强化每一次进店决策的权重，鼓励玩家进行适应性构主筑。
        
- **商品清单与概率**
    
    - **卡牌 (共7张):**
        
        - **卡池构成:** 固定划分为 **5个【角色专属卡牌】栏位** 和 **2个【通用卡牌】栏位**。
            
        - **稀有度生成规则:** 所有7个栏位独立遵循同一套概率表生成稀有度。
            
            - **普通:** `60%`
                
            - **罕见:** `30%`
                
            - **稀有:** `9%`
                
            - **传说:** `1%`
                
    - **遗物 (共3件):**
        
        - **概率分布（示例）：** `50%`【普通】，`40%`【罕见】，`10%`【稀有】。
            
    - **特殊服务 (共1项):**
        
        - **【移除卡牌】:** 价格递增的常驻服务。
            
- **游戏经济与定价**
    
    - **金币获取:** 普通战斗获得**少量**金币，精英战斗获得**中量**金币。
        
    - **商品价格层级:** （具体数值待定，仅定义相对关系）
        
        - **普通卡牌:** 基础
            
        - **罕见卡牌:** 中等 (约x1.5)
            
        - **稀有卡牌:** 昂贵 (约x3)
            
        - **传说卡牌:** 非常昂贵 (约x6)
            
        - **遗物:** 价格从“昂贵”到“非常昂贵”不等。
            
        - **移除服务:** 首次为“中等”，后续递增。
            

##### **D. 随机事件房**

- **设计哲学**
    
    - 事件应与“维修工在异变公司”的世界观紧密相连，并提供有意义的风险收益抉择。首次遇到的选项结果未知，之后会明确标注。
        
- **事件结构与交互流程**
    
    - 玩家进入 **?** 节点后，会看到包含【标题】、【插画】、【描述】和`2-3`个【选项按钮】的事件界面，做出选择并结算结果。
        
- **事件配置表（示例）**
    
    - 所有随机事件都将通过以下表格进行配置和管理。
        

| **事件ID** | **事件名称** | **情景描述 (节选)**          | **选项1 (文本)**   | **选项1 (效果)**                  | **选项2 (文本)** | **选项2 (效果)**           | **选项3 (文本)** | **选项3 (效果)**             |
| -------- | -------- | ---------------------- | -------------- | ----------------------------- | ------------ | ---------------------- | ------------ | ------------------------ |
| EVT_001  | 故障的自动贩卖机 | “一台仍在嗡嗡作响的自动贩卖机……”     | `[踹它一脚]`       | `70%`获得随机遗物；`30%`失去`10%`最大生命值 | `[小心地绕开它]`   | 无                      | -            | -                        |
| EVT_002  | 泄露的冷却管道  | “前方的走廊被一根断裂的管道挡住了……”   | `[修理: 消耗50金币]` | 失去50金币，获得遗物【冷却循环泵】            | `[强行突破]`     | 失去`5%`最大生命值，随机一张牌被【转换】 | `[离开]`       | 无                        |
| EVT_003  | 被侵蚀的服务器  | “一台核心服务器的机柜正发出诡异的紫光……” | `[物理拔线]`       | 移除一张牌                         | `[尝试格式化]`    | 升级一张牌，失去`8%`最大生命值      | `[安装防火墙]`    | 获得增益“下`3`场战斗免疫【虚弱】和【易伤】” |
## 特色系统融合 (草案)

为支持游戏长期的重玩价值和挑战深度，地图系统需预留与核心机制联动的接口。这些复杂机制将在标准模式通关后，通过【 **畸变等级系统**】逐步对玩家开放。

- **路径标签 :**
    
    - **描述:** 部分地图路径会被赋予环境标签（如`[高空]`、`[腐蚀]`），直接影响该路径上战斗房间的初始布局和敌人配置。
        
    - **设计意图:** 使得路线规划需额外考虑战场环境，让特定卡组能通过选择路径最大化自身优势。
        
    - **解锁方式:** 在**畸变等级3**时首次引入。
        
- **区域结构稳定性 :**
    
    - **描述:** 地图上出现“不稳定区域”，区域内的战斗将伴随额外的环境灾害和更高的风险，但成功通过后会获得遗物等额外奖励。
        
    - **设计意图:** 将战斗中的“地形破坏”行为反馈到地图战略层面，创造高风险高回报的“赌博”式路线选择。
        
    - **解锁方式:** 在**畸变等级5**时首次引入。
        

---

## 地图生成设计原则 

本地图系统采用**约束性随机生成算法(基于随机游走算法)**(类塔的地图)，其生成过程必须遵循以下设计原则，以保证游戏体验的公平性与挑战性。

- **阶段一：骨架搭建:**
    
    - 确定总层数，放置【起始】和【BOSS】锚点，生成一条连接两者的基础【主干道】。
        
- **阶段二：节点配额与分布:**
    
    - 确定各类节点的精确数量。
        
    - 根据分布规则进行策略性安置（例如：精英不出现在前3层；休息房大概率在精英/BOSS之前）。
        
- **阶段三：分支生成与填充:**
    
    - 从主干道生成长度有限的【支路】。
        
    - 使用剩余的节点配额（主要是普通战斗和事件）填充地图。
        
- **阶段四：验证与美化:**
    
    - 进行连通性检查和无意义路径的修剪。
        
    - 通过防交叉处理和位置微调，优化地图的视觉呈现。
        



---

# 元成长与重玩价值

## 设计哲学

本章旨在定义驱动玩家进行长期游戏的“外部循环”。Roguelike游戏的魅力不仅在于单局内的随机挑战，更在于长线游戏过程中的积累、解锁和自我挑战。我们的设计将围绕两个核心点展开：

1. **内在驱动（挑战）：** 为已经掌握游戏核心玩法的玩家，提供不断升级的、有明确规则变化的难度挑战，满足其追求精通和挑战极限的欲望。这就是【畸变等级系统】的目标。
    
2. **外在驱动（收集）：** 为所有玩家提供一个“滚雪球”式的解锁系统。玩家的每一次游戏，无论成败，都应在宏观上为未来的游戏解锁更多的可能性（新的卡牌、遗物、角色），创造持续的新鲜感。这就是【解锁内容系统】的目标。
    

【种子系统】则同时服务于以上两者，为玩家提供了复现挑战、精进技术和分享奇遇的工具。

##  畸变等级系统

- **概念:** 这是为核心玩家设计的高阶挑战模式，类似《杀戮尖塔》的“进阶”。当玩家首次通关游戏后，将解锁【畸变等级1】。成功通关畸变1后，将解锁畸变2，以此类推。
    
- **机制:** 每一级畸变都会在前一级的基础上，为游戏增加一条永久性的负面词条，使游戏变得更具挑战性。我们初步设计15个畸变等级。
    
- **等级效果（1-6级示例）:**
    
    - **畸变等级1:** 精英敌人的生命值和攻击力小幅提升。
        
        - _设计意图：简单的数值考验，作为进阶的入门。_
            
    - **畸变等级2:** 普通敌人的生命值小幅提升。
        
        - _设计意图：提升道中战斗的消耗，考验玩家的续航能力。_
            
    - **畸变等级3:** **地图畸变：** 章节地图上开始出现带有【路径标签】的路径。
        
        - _设计意图：引入地图层面的策略变量，迫使玩家进行更复杂的路线规划。_
            
    - **畸变等级4:** 玩家在游戏开始时，在卡组中加入一张无法移除的【诅咒】牌（例如：“粘液” - 无法打出，回合结束时保留）。
        
        - _设计意图：从卡组构筑层面增加负反馈，考验玩家的卡组运作能力。_
            
    - **畸变等级5:** **地图畸变：** 章节地图上开始出现【不稳定区域】。
        
        - _设计意图：引入地图层面的风险收益抉择，考验玩家的风险管理能力。_
            
    - **畸变等级6:** 首领（Boss）的生命值大幅提升，并可能获得新的被动能力或攻击模式。
        
        - _设计意图：提升最终关卡的挑战上限，检验卡组的综合强度。_
            
    - ..._(后续等级将持续引入更苛刻的挑战，如商店价格提升、初始血量降低、敌人获得新能力等)_
        

##  种子系统

- **概念:** 一套允许玩家完全复现任意一局游戏进程的系统。
    
- **机制:**
    
    - **种子生成与显示:** 每一局随机开始的游戏，都会生成一串独一无二的种子代码（由字母和数字组成）。该种子将在地图界面或暂停菜单的固定位置显示，并在游戏结束（胜利/失败）的结算画面上再次醒目地展示。
        
    - **种子使用:** 在主菜单或角色选择界面，提供“进行种子挑战”的选项，玩家可以输入种子代码，来开启一次完全相同的冒险。
        
- **种子控制范围:**
    
    - 为保证可复现性，一个种子将决定所有与随机数相关的宏观进程，包括：
        
        - 章节地图的完整结构（路径、节点类型）。
            
        - 所有战斗节点的敌人配置。
            
        - 所有卡牌奖励的“三选一”选项。
            
        - 所有宝箱和精英掉落的遗物。
            
        - 所有商店的商品列表。
            
        - 所有随机事件的遭遇顺序和随机结果。
            
        - 战斗内的随机性（如抽牌顺序、部分敌人的随机目标选择）也将由该种子派生，确保只要玩家做出完全相同的操作，战斗过程也将完全一致。
            
- **界面呈现需求:**
    
    - 游戏内需要有显示当前种子的UI元素。
        
    - 主菜单需要有输入种子的文本框和启动按钮。
        

##  解锁内容与永久强化

- 设计哲学： 本游戏的元成长将严格遵循 **横向解锁，而非纵向强化** 的原则。我们旨在通过不断解锁**“新的可能性”来提供新鲜感，而不是通过简单的数值叠加（如“永久+1%攻击力”）来降低游戏的核心挑战。玩家变强的根本途径，应是在单局游戏中构筑出强大的卡组，而非依赖局外的数值积累。
    
- 解锁内容 (横向成长):
    
    - **新卡牌:**
        
        - 每个角色在初始时，其专属卡池中只有一部分基础卡牌。
            
        - 当玩家使用该角色达成特定里程碑（例如：首次击败第一章首领、首次通关、达到某个畸变等级）时，会解锁新的、通常也更复杂的专属卡牌，这些新卡牌之后便有机会在游戏进程中出现。
            
    - **新遗物:**
        
        - 与卡牌类似，游戏初始只有一个基础遗物池。
            
        - 玩家通过完成特定成就（例如：一回合造成50点伤害、在一场战斗中不受伤）或击败特定敌人，来解锁更多样的通用遗物和角色专属遗物。
            
    - **新角色:**
        
        - 游戏开始时，只有初始角色【工程师】可用。
            
        - 其他角色（如【立体战术家】、【护甲专家】等）需要通过达成特定条件来解锁（例如：使用工程师通关一次，或在一次冒险中达到第三章）。
            
- 永久强化 (纵向成长):
    
    - **原则:** 我们将极力避免提供直接提升玩家战斗数值的永久强化。
        
    - **轻度强化 (待定):** 未来可考虑加入一些轻微的、改善游戏体验而非直接降低难度的永久强化。例如：
        
        - 首次通关后，解锁“每日挑战”模式。
            
        - 角色熟练度达到一定等级后，解锁该角色的第二件可选初始遗物。
            
- **进度追踪:**
    
    - 游戏中需要有一个“图鉴”或“收藏”系统，让玩家可以查看自己已经解锁的所有卡牌、遗物、以及遇到过的所有敌人，并能看到未解锁内容的剪影或解锁条件提示。
